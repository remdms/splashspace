<%# render navbar %>

<div class="container-fluid">
  <%# Si une photo de pool existe on l'affiche sinon on affiche le placeholder%>
  <% if @pool.photo.attached? %>
    <%= cl_image_tag @pool.photo.key, class:'img-fluid mx-auto my-3 rounded-5', width: '500', crop: :fill %>
  <% else %>
    <%= image_tag 'placeholder-image.jpg', class:'img-fluid mx-auto my-3 rounded-5', alt: "Pool picture", width: '500' %>
  <% end %>

  <h2 class="secondary-title"><%= @pool.name.upcase %></h2>
  <p>Location: <%= @pool.address %></p>
  <p>Rating:</p>
  <p>Price: €<%= @pool.price_per_day %> per person per day</p>

  <div class="booking-container">
    <%# Formulaire non mis en forme, methode bookings#create non définie %>
    <%= render 'pools/booking_form', pool: @pool, booking: @booking %>
  </div>

  <h2 class="secondary-title mt-3">DESCRIPTION</h2>
  <hr>
  <p><%= @pool.overview %></p>

  <p>Hosted by <%= @pool.user.first_name %></p>

  <h2 class="secondary-title text-center">YOUR HOST</h2>

  <%# Si une photo de pool existe on l'affiche sinon on affiche le placeholder%>
  <%# if @pool.user.profile_pic.attached? %>
    <%# cl_image_tag @pool.user.profile_pic.key, class:'img-fluid mx-auto my-3', size: '164', crop: :fill %>
  <%# else %>
    <div class="user-pic-square mx-auto my-3">
      <%= image_tag 'placeholder-image.jpg', class:'img-fluid', alt: "Pool picture" %>
    </div>
  <%# end %>
</div>

<%# render footer %>
